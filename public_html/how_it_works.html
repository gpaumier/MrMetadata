<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>How it works â€” MrMetadata</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="stylesheet" href="vendor/bootstrap-3.2.0/css/bootstrap.min.css">
        <style>
            body {
                padding-top: 50px;
                padding-bottom: 20px;
            }
        </style>
        <link rel="stylesheet" href="vendor/bootstrap-3.2.0/css/bootstrap-theme.min.css">

        <link rel="stylesheet" href="vendor/font-awesome-4.2.0/css/font-awesome.min.css">
        
        <link rel="stylesheet" href="main.css">

        <script src="vendor/initializr/modernizr-2.6.2-respond-1.1.0.min.js"></script>
    </head>
    <body>
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
            
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#mrm-collapsed-navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            
                <a class="navbar-brand" href="index.html"><i class="fa fa-tags"></i> MrMetadata</a> 
                <p class="navbar-text">by <a href="https://meta.wikimedia.org/wiki/User:Guillaume_(WMF)" class="navbar-link">guillaume</a></p>
            </div>
            
            <div class="collapse navbar-collapse" id="mrm-collapsed-navbar">
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="https://meta.wikimedia.org/wiki/Talk:File_metadata_cleanup_drive"><i class="fa fa-comments"></i> Discuss</a></li>
                    <li><a href="how_it_works.html"><i class="fa fa-info-circle"></i> How it works</a></li>

                </ul>
            </div><!-- /.navbar-collapse -->
            
        </div>
    </div>
        
    <div class="container">
        <ol class="breadcrumb">
            <li><a href="index.html">Home</a></li>
            <li class="active">How it works</li>
        </ol>
    </div>
    

    <div class="container">
        <div class="page-header">
            <h1>How it works</h1>
        </div>
            
        <h2>Script</h2>
            
        <p>This data is generated by a <a href="https://www.mediawiki.org/wiki/Manual:Pywikibot" title="Pywikibot">Pywikibot</a> script, whose code is <a href="https://github.com/gpaumier/MrMetatata" title="MrMetadata on GitHub">on GitHub</a>. If the code makes you cry, it's probably normal; five days ago, I had never written any Python code.</p>
        
        <p>HTML pages are generated with <a href="http://jinja.pocoo.org/docs/dev/" title="Jinja2">Jinja2</a>, using <a href="http://getbootstrap.com/" title="Bootstrap">Bootstrap</a> and bits of <a href="https://fortawesome.github.io/Font-Awesome/" title="Font Awesome">Font Awesome</a>.

        <h2>Local uploads</h2>
        
        <p>Checking local uploads is complex, because of the variety of information templates across wikis. The script needs to go through all file description pages of a wiki, and check for machine-readable metadata by querying the <a href="https://www.mediawiki.org/wiki/Extension:CommonsMetadata" title="Extension:CommonsMetadata">CommonsMetadata extension</a>.</p>
        
        <p>The list of wikis with local uploads was adapted from <a href="https://tools.wmflabs.org/robin/?tool=uploadconfig" title="Robin's uploadconfig tool">Robin's uploadconfig tool</a>.
        
        <h2>Commons</h2>
        
        <p>Due to the sheer size of Commons (more than 22 million files), we can't just go through all of them to check their metadata individually. It would take weeks to get numbers.</p>
        
        <p>However, Commons has a few information templates like {{<a href="https://commons.wikimedia.org/wiki/Template:Information" title="Information template on Commons"</a>information</a>}} that already implement machine-readable metadata. Those templates are used by about 23.3 million files on Commons that we therefore <em>know</em> have machine-readable metadata. That way, we can focus on only checking the ~700,000 files that don't have one of those templates. As of 2014-12-11, the numbers are updated daily.</p>
        
        <h2>Known bugs</h2>
        
        <ul>
            <li>The numbers for the <a href="wikipedia/ru/" title="Russian Wikipedia dashboard">Russian Wikipedia</a> overestimate progress. There are in reality about 150,000 files that need fixing.</li>
            <li>The French Wikisource isn't listed due to a bug of yet undetermined origin.</li>
        </ul>
        
        <p>If you notice another issue, please <a href="https://meta.wikimedia.org/wiki/Talk:File_metadata_cleanup_drive">report it</a> so it can be fixed. Thank you!</p>
        
    </div>
        
    <script src="vendor/initializr/jquery-1.11.0.min.js"></script>
    <script src="vendor/bootstrap-3.2.0/js/bootstrap.min.js"></script>
    <script src="main.js"></script>
    </body>
</html>